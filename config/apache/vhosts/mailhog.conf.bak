<VirtualHost mailhog.loc:80>

    ServerName mailhog.loc
    ServerAlias www.mailhog.loc
    ServerAdmin admin.localhost

    #################################
    #START Application Configuration#
    #################################
    DocumentRoot /srv/www/default
    DirectoryIndex index.php

    <Directory "/srv/www/default">
        Options Indexes FollowSymLinks Includes ExecCGI
        AllowOverride All
        Require all granted
    </Directory>

    # Proxy config
    ProxyPreserveHost On
    ProxyRequests Off

    # Websocket proxy needs to be defined first
    ProxyPass "/api/v2/websocket" ws://mailhog.loc:8025/api/v2/websocket
    ProxyPassReverse "/api/v2/websocket" ws://mailhog.loc:8025/api/v2/websocket

    # General proxy
    ProxyPass / http://mailhog.loc:8025/
    ProxyPassReverse / http://mailhog.loc:8025/

</VirtualHost>


<IfModule mod_ssl.c>
    <VirtualHost mailhog.loc:443>

        # START Virtual Host Information Directives #
        ServerName mailhog.loc
        ServerAlias www.mailhog.loc
        ServerAdmin admin.localhost
        # END Virtual Host Information Directives #

        RewriteEngine On
        RewriteCond %{HTTPS} on
        RewriteRule ^ http://%{HTTP_HOST}%{REQUEST_URI}


    </VirtualHost>
</IfModule>